# Neo4j REST API with FastAPI

Этот проект предоставляет API для работы с базой данных Neo4j через FastAPI. API позволяет создавать, получать и удалять узлы и их связи в базе данных. Авторизация происходит через Bearer токен, используя OAuth2.

## Установка и запуск API

1. **Клонируйте репозиторий:**

   ```bash
   git clone https://github.com/MaGmYmS/Neo4j-REST-API-with-FastAPI.git
   ```

2. **Установите зависимости:**

   Убедитесь, что у вас установлен Python 3.7 или выше. Затем выполните:
   ``` bash
   pip install -r requirements.txt
   ```

3. **Запуск API:**
   Для запуска API необходимо создать несколько переменных окружения. Конкретно, необходимо создать NEO4J_USERNAME и NEO4J_PASSWORD для подключения к БД и API_TOKEN для запросов добавления и убавления узлов.

   Windows:
   ```bash
   setx NEO4J_USERNAME "your_username" 
   setx NEO4J_PASSWORD "your_password" 
   setx API_TOKEN "your_api_token" 
   ```

   Для запуска сервера FastAPI выполните команду:
   ``` bash
   uvicorn Neo4jQueriesAPI:app --reload
   ```
   API будет доступно по адресу http://127.0.0.1:8000.
   Вы можете открыть http://127.0.0.1:8000/docs для просмотра документации Swagger UI.

## Тестирование:

### Запуск тестов API

Для тестирования API используйте файл `test_api.py`, который проверяет работоспособность основных конечных точек. Выполните следующую команду:

```bash
pytest test_api.py
```

### Запуск тестов для взаимодействия с Neo4j

Для проверки взаимодействий с базой данных Neo4j используйте файл `test_query.py`, который тестирует методы `Neo4jQueries`. Запустите тесты следующей командой:

```bash
pytest test_query.py
```

Тесты проверяют следующие функции:
- Получение всех узлов.
- Добавление узла с определенными свойствами и связями.
- Получение узла по ID с его связями.
- Удаление узла и проверка, что он был успешно удален.
